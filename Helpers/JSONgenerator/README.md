# 炼金配方JSON生成器

这是一个用于生成和解析炼金配方JSON数据的工具。它提供了一个图形用户界面，方便用户创建、编辑和解析炼金配方数据。

## 功能特点

- 创建和编辑炼金配方数据
- 完全可选的材料系统，支持零个或多个材料
- 基本炼金成分系统，支持一个或多个带元素属性的3x3网格
- 可视化编辑3x3奖励网格
- 将配方数据导出为JSON格式
- 解析JSON数据并显示配方信息
- 支持保存和加载JSON文件
- 支持高分辨率显示器（自动DPI缩放）
- 支持中英文逗号分隔标签
- 预设奖励属性列表，支持下拉选择

## 安装要求

- Python 3.6+
- Tkinter (通常随Python一起安装)

## 使用方法

1. 运行应用程序：
   ```
   python app.py
   ```

2. 编码器使用：
   - 填写基本信息（ID、名称、标签）
   - 添加材料（完全可选）：
     * 选择材料类型（类别/材料）
     * 输入材料ID
     * 点击"添加材料"按钮
     * 可以不添加材料，也可以添加多个材料
   - 添加基本炼金成分（至少一个）：
     * 编辑3x3网格（至少一个非空白格子）
     * 选择元素属性（必选）
     * 点击"添加基本炼金成分"按钮
     * 可以添加多个基本炼金成分
   - 添加奖励：
     * 输入等级（数字）
     * 从下拉列表选择解锁所需属性（火系/水系/草系/雷系）
     * 编辑3x3网格（至少一个非空白格子）
     * 选择元素属性（必选）
   - 点击"生成JSON"或"保存到文件"

3. 解码器使用：
   - 输入JSON数据或加载JSON文件
   - 点击"解析JSON"查看配方信息

## 文件结构

- `app.py`: 主应用程序和GUI界面
- `encoder.py`: 编码器模块，包含炼金配方编码器和奖励网格编码器
- `decoder.py`: 解码器模块，包含炼金配方解码器和奖励网格解码器

## 数据格式

炼金配方JSON格式：
```json
{
  "id": 数字,
  "name": "字符串",
  "tags": ["标签1", "标签2", ...],
  "materials": [  // 可以是空列表
    {
      "type": "class或material",
      "id": "字符串"
    },
    ...
  ],
  "base_elements": [  // 至少一个元素
    {
      "id": "3x3网格编码"  // 必须包含元素属性
    },
    ...
  ],
  "rewards": [
    {
      "level": 数字,
      "property": "元素属性（火系/水系/草系/雷系）",
      "id": "3x3网格编码"  // 必须包含元素属性
    },
    ...
  ]
}
```

3x3网格编码格式：
- 9位数字字符串，每位表示一个格子的状态（0:空白, 1:圈, 2:星）
- 必须至少有一个非空白格子
- 必须包含元素属性后缀（例如":R"表示火系）
- 支持的元素属性：
  * R: 火系
  * B: 水系
  * G: 草系
  * Y: 雷系

## 高分辨率显示支持

程序会自动检测系统的DPI设置，并相应地调整：
- 窗口大小
- 字体大小
- 按钮大小
- 对话框大小

这确保了在高分辨率显示器上的良好显示效果。 